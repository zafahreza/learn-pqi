import Link from "next/link";
import { useState, useEffect } from "react";
import SignOut from "./SignOut";


export default function User(){

    const [isSignOutVisible, setIsSignOutVisible] = useState(false);

    function handleSignOutClick(){
        setIsSignOutVisible(!isSignOutVisible)
    }

    function handleSignOut(){
            setIsSignOutVisible(false);
            window.location.href = "/";
    }

    function handleClose(){
        setIsSignOutVisible(false);
    }

    return(
        <div id="User">
            <div id="User-Text">
                <div>
                    <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.33333 7.29167C8.33333 6.1866 8.77232 5.12679 9.55372 4.34539C10.3351 3.56399 11.3949 3.125 12.5 3.125C13.6051 3.125 14.6649 3.56399 15.4463 4.34539C16.2277 5.12679 16.6667 6.1866 16.6667 7.29167C16.6667 8.39674 16.2277 9.45654 15.4463 10.2379C14.6649 11.0193 13.6051 11.4583 12.5 11.4583C11.3949 11.4583 10.3351 11.0193 9.55372 10.2379C8.77232 9.45654 8.33333 8.39674 8.33333 7.29167ZM8.33333 13.5417C6.952 13.5417 5.62724 14.0904 4.65049 15.0672C3.67373 16.0439 3.125 17.3687 3.125 18.75C3.125 19.5788 3.45424 20.3737 4.04029 20.9597C4.62634 21.5458 5.4212 21.875 6.25 21.875H18.75C19.5788 21.875 20.3737 21.5458 20.9597 20.9597C21.5458 20.3737 21.875 19.5788 21.875 18.75C21.875 17.3687 21.3263 16.0439 20.3495 15.0672C19.3728 14.0904 18.048 13.5417 16.6667 13.5417H8.33333Z" fill="black"/>
                    </svg>
                    <Link href="/Dashboard/Profile">Profile</Link>
                </div>
                <div>
                    <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M6.25 2.08331C5.4212 2.08331 4.62634 2.41255 4.04029 2.9986C3.45424 3.58466 3.125 4.37951 3.125 5.20831V19.7916C3.125 20.6204 3.45424 21.4153 4.04029 22.0014C4.62634 22.5874 5.4212 22.9166 6.25 22.9166H12.5C13.3288 22.9166 14.1237 22.5874 14.7097 22.0014C15.2958 21.4153 15.625 20.6204 15.625 19.7916V5.20831C15.625 4.37951 15.2958 3.58466 14.7097 2.9986C14.1237 2.41255 13.3288 2.08331 12.5 2.08331H6.25ZM16.9719 7.59685C17.1672 7.40157 17.4321 7.29187 17.7083 7.29187C17.9845 7.29187 18.2495 7.40157 18.4448 7.59685L22.6115 11.7635C22.8067 11.9589 22.9164 12.2238 22.9164 12.5C22.9164 12.7762 22.8067 13.0411 22.6115 13.2364L18.4448 17.4031C18.2483 17.5929 17.9852 17.6978 17.7121 17.6955C17.439 17.6931 17.1777 17.5835 16.9846 17.3904C16.7914 17.1973 16.6819 16.936 16.6795 16.6629C16.6771 16.3898 16.7821 16.1266 16.9719 15.9302L19.3604 13.5416H10.4167C10.1404 13.5416 9.87545 13.4319 9.6801 13.2365C9.48475 13.0412 9.375 12.7762 9.375 12.5C9.375 12.2237 9.48475 11.9588 9.6801 11.7634C9.87545 11.5681 10.1404 11.4583 10.4167 11.4583H19.3604L16.9719 9.06977C16.7766 8.87443 16.6669 8.60953 16.6669 8.33331C16.6669 8.0571 16.7766 7.7922 16.9719 7.59685Z" fill="black"/>
                    </svg>
                    <button onClick={handleSignOutClick}>Sign Out</button>
                </div>
            </div>
            <svg width="210" height="145" viewBox="0 0 210 145" fill="none" xmlns="http://www.w3.org/2000/svg">
                <mask id="path-1-inside-1_615_1824" fill="white">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M171.5 0C168.613 0 166.689 3.33333 162.84 10L161.541 12.25C160.494 14.0631 159.589 15.6297 158.856 17H15C6.71573 17 0 23.7157 0 32V130C0 138.284 6.71573 145 15 145H195C203.284 145 210 138.284 210 130V32C210 23.7157 203.284 17 195 17H184.144C183.411 15.6297 182.506 14.0631 181.459 12.25L180.16 10C176.311 3.33333 174.387 0 171.5 0Z"/>
                </mask>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M171.5 0C168.613 0 166.689 3.33333 162.84 10L161.541 12.25C160.494 14.0631 159.589 15.6297 158.856 17H15C6.71573 17 0 23.7157 0 32V130C0 138.284 6.71573 145 15 145H195C203.284 145 210 138.284 210 130V32C210 23.7157 203.284 17 195 17H184.144C183.411 15.6297 182.506 14.0631 181.459 12.25L180.16 10C176.311 3.33333 174.387 0 171.5 0Z" fill="white"/>
                <path d="M162.84 10L164.572 11V11L162.84 10ZM161.541 12.25L163.273 13.25V13.25L161.541 12.25ZM158.856 17V19H160.055L160.62 17.9434L158.856 17ZM184.144 17L182.38 17.9434L182.945 19H184.144V17ZM181.459 12.25L179.727 13.25V13.25L181.459 12.25ZM180.16 10L178.428 11V11L180.16 10ZM164.572 11C166.53 7.60816 167.888 5.26608 169.097 3.74351C170.295 2.23513 170.983 2 171.5 2V-2C169.13 -2 167.413 -0.56846 165.964 1.25649C164.527 3.06725 162.998 5.72517 161.108 9L164.572 11ZM163.273 13.25L164.572 11L161.108 9L159.809 11.25L163.273 13.25ZM160.62 17.9434C161.334 16.6077 162.221 15.0719 163.273 13.25L159.809 11.25C158.767 13.0543 157.844 14.6517 157.093 16.0566L160.62 17.9434ZM15 19H158.856V15H15V19ZM2 32C2 24.8203 7.8203 19 15 19V15C5.61116 15 -2 22.6112 -2 32H2ZM2 130V32H-2V130H2ZM15 143C7.8203 143 2 137.18 2 130H-2C-2 139.389 5.61117 147 15 147V143ZM195 143H15V147H195V143ZM208 130C208 137.18 202.18 143 195 143V147C204.389 147 212 139.389 212 130H208ZM208 32V130H212V32H208ZM195 19C202.18 19 208 24.8203 208 32H212C212 22.6112 204.389 15 195 15V19ZM184.144 19H195V15H184.144V19ZM179.727 13.25C180.779 15.0719 181.666 16.6077 182.38 17.9434L185.907 16.0566C185.156 14.6517 184.233 13.0543 183.191 11.25L179.727 13.25ZM178.428 11L179.727 13.25L183.191 11.25L181.892 9L178.428 11ZM171.5 2C172.017 2 172.705 2.23513 173.903 3.74351C175.112 5.26608 176.47 7.60816 178.428 11L181.892 9C180.002 5.72517 178.473 3.06725 177.036 1.25649C175.587 -0.56846 173.87 -2 171.5 -2V2Z" fill="#0078CE" mask="url(#path-1-inside-1_615_1824)"/>
            </svg>
            {isSignOutVisible && <SignOut handleClose={handleClose} handleSignOut={handleSignOut}/>}
        </div>
    )
}